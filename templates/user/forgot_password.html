{% extends "base.html" %}

{% block title %}Forgot Password - SmartCart{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/user.css">
<style>
    .main-content {
        margin-top: 2rem;
    }

    .auth-container {
        max-width: 500px;
        margin: 0 auto;
    }
</style>
{% endblock %}

{% block navbar %}
<nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #131921;">
    <div class="container">
        <a class="navbar-brand" href="/">âš¡ SmartCart</a>
        <div class="ms-auto">
            <a href="/" class="btn btn-outline-light me-2">ğŸ  Home</a>
            <a href="/user-login" class="btn btn-warning text-dark fw-bold">ğŸ” Login</a>
        </div>
    </div>
</nav>
{% endblock %}

{% block content %}
<div class="main-content">
    <div class="auth-container">
        <div class="page-header">
            <h2>ğŸ”’ Forgot Password</h2>
            <p>Enter your registered email to receive a reset link.</p>
        </div>

        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, message in messages %}
        <div class="alert alert-{% if category == 'success' %}success{% elif category == 'error' or category == 'danger' %}danger{% else %}warning{% endif %} alert-dismissible fade show"
            role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endfor %}
        {% endif %}
        {% endwith %}

        <div class="card p-4 shadow-sm">
            <form action="/user/send_reset_link" method="POST">
                <div class="mb-3">
                    <label for="email" class="form-label">Registered Email</label>
                    <input type="email" class="form-control" id="email" name="email" placeholder="you@example.com"
                        required>
                </div>

                <button type="submit" class="btn btn-primary w-100">Send Reset Link</button>
            </form>
        </div>

        <div style="text-align: center; margin-top: 1rem;">
            <a href="/user-login" class="text-danger fw-bold text-decoration-none">Back to Login</a>
        </div>
    </div>
</div>
{% endblock %}